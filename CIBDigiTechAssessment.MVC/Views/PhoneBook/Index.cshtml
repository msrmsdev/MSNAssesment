
@{ViewBag.Title = "View or Search Phone Book ";}

@{
    Layout = null;
}

<style>
    table {
        table-layout: fixed;
    }

    td {
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .dataTables_length {
        margin-right: 950px;
    }
 
</style>

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>View PhoneBook</title>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <link href="~/Content/DataTables/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/DataTables/buttons.bootstrap4.min.js"></script>
    <script src="~/Scripts/DataTables/jquery.dataTables.min.js"></script>
    <link href="~/Content/Site.css" rel="stylesheet" type="text/css" />
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="~/Scripts/modernizr-2.8.3.js"></script> 
</head>
<body>
    <div class="row" align="center">
          
    </div>
    <br />

    <div class="container" align="center">
        <h2 align="center" style="color:red">View and Search Phone Book</h2>
        <button type="button" style="margin-left: 950px;" class="btn btn-primary float-right" id="btnAddEntry" onclick="location.href='@Url.Action("Create", "PhoneBook")'">Add Entry</button>
        <br />
        <br />
        <div class="row">
            <div style="width:90%; margin:0 auto;">
                <table id="PhoneBookGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%" cellspacing="0">
                    <thead>
                        <tr class="btn-primary">
                            <th>PhoneBookID </th>
                            <th>FirstName</th>
                            <th>LastName</th>
                            <th>ContactNo</th>
                            <th>Email</th>
                            <th>Address</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
</body>
</html>
<script type="text/javascript">

    $(document).ready(function () {
        $('#PhoneBookGrid').dataTable({
            "processing": true, // for show progress bar
            "serverSide": true, // for process server side
            "filter": true, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once
            "pageLength": 5,

            "ajax": {
                "url": "/PhoneBook/LoadData",
                "type": "POST",
                "datatype": "json"
            },

            "columnDefs":
                [{
                    "targets": [0],
                    "visible": false,
                    "searchable": false
                },
                {
                    "targets": [1],
                    "searchable": false,
                    "orderable": false
                },
                {
                    "targets": [2],
                    "searchable": false,
                    "orderable": false
                },
                {
                    "targets": [3],
                    "searchable": false,
                    "orderable": false
                },
                {
                    "targets": [4],
                    "searchable": false,
                    "orderable": false
                },
                {
                    "targets": [5],
                    "searchable": false,
                    "orderable": false
                }],

            "columns": [
                { "data": "PhoneBookID", "name": "PhoneBookID", "autoWidth": true },
                { "data": "FirstName", "name": "FirstName", "autoWidth": true },
                { "data": "LastName", "title": "LastName", "name": "LastName", "autoWidth": true },
                { "data": "Contact", "name": "Contact", "autoWidth": true },
                { "data": "Email", "name": "Email", "autoWidth": true },
                { "data": "Address", "name": "Address", "autoWidth": true },
            ]

        });
    });
</script>